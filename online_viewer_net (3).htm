<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ù‚Ø´ÛŒÙ†Ù‡ - ØªÛŒØ´Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø³ØªÙˆÙ… Ø§ÛŒØ±Ø§Ù†ÛŒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Vazirmatn', sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        
        /* Dark Mode Variables */
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --text-tertiary: #9ca3af;
            --border-color: #e5e7eb;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --card-bg: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
        }
        
        [data-theme="dark"] {
            --bg-primary: #111827;
            --bg-secondary: #1f2937;
            --bg-tertiary: #374151;
            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --text-tertiary: #9ca3af;
            --border-color: #374151;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --card-bg: linear-gradient(145deg, #1f2937 0%, #374151 100%);
        }
        
        body {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }
        
        .persian-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23f59e0b' fill-opacity='0.1'%3E%3Cpath d='M30 30c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20zm0 0c0 11.046 8.954 20 20 20s20-8.954 20-20-8.954-20-20-20-20 8.954-20 20z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        [data-theme="dark"] .persian-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23f59e0b' fill-opacity='0.05'%3E%3Cpath d='M30 30c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20zm0 0c0 11.046 8.954 20 20 20s20-8.954 20-20-8.954-20-20-20-20 8.954-20 20z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #dc2626 0%, #ea580c 25%, #d97706 50%, #ca8a04 75%, #65a30d 100%);
        }
        
        .hover-scale {
            transition: transform 0.3s ease;
        }
        
        .hover-scale:hover {
            transform: scale(1.05);
        }
        
        .product-card {
            background: var(--card-bg);
            box-shadow: 0 10px 25px var(--shadow-color);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px var(--shadow-color);
        }
        
        .cart-count {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .floating-element {
            animation: float 6s ease-in-out infinite;
        }
        
        .persian-ornament {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M50 10 L60 30 L80 30 L65 45 L70 65 L50 55 L30 65 L35 45 L20 30 L40 30 Z' fill='%23f59e0b' opacity='0.3'/%3E%3C/svg%3E");
            background-size: 40px 40px;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .admin-panel {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
        }

        .admin-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .status-pending { background-color: #fbbf24; }
        .status-processing { background-color: #3b82f6; }
        .status-completed { background-color: #10b981; }
        .status-cancelled { background-color: #ef4444; }
        
        /* Theme Toggle Button */
        .theme-toggle {
            position: relative;
            width: 60px;
            height: 30px;
            background: var(--bg-tertiary);
            border-radius: 15px;
            border: 2px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .theme-toggle::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 22px;
            height: 22px;
            background: var(--text-primary);
            border-radius: 50%;
            transition: transform 0.3s ease;
        }
        
        [data-theme="dark"] .theme-toggle::before {
            transform: translateX(28px);
        }
        
        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            .hero-title {
                font-size: 2.5rem;
                line-height: 1.2;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .mobile-menu {
                display: block;
            }
            
            .desktop-nav {
                display: none;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .cart-sidebar {
                width: 100vw;
                max-width: 100vw;
            }
            
            .modal-content {
                margin: 1rem;
                max-height: calc(100vh - 2rem);
                width: calc(100vw - 2rem);
            }
            
            .checkout-grid {
                grid-template-columns: 1fr;
            }
            
            .floating-element {
                display: none;
            }
            
            .hero-buttons {
                flex-direction: column;
                gap: 1rem;
            }
            
            .hero-buttons button {
                width: 100%;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .contact-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .footer-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }
        }
        
        @media (max-width: 480px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .card-padding {
                padding: 1rem;
            }
        }
        
        /* Dark mode specific styles */
        [data-theme="dark"] .bg-white {
            background-color: var(--bg-secondary) !important;
        }
        
        [data-theme="dark"] .bg-gray-50 {
            background-color: var(--bg-tertiary) !important;
        }
        
        [data-theme="dark"] .text-gray-800 {
            color: var(--text-primary) !important;
        }
        
        [data-theme="dark"] .text-gray-600 {
            color: var(--text-secondary) !important;
        }
        
        [data-theme="dark"] .text-gray-500 {
            color: var(--text-tertiary) !important;
        }
        
        [data-theme="dark"] .border-gray-200 {
            border-color: var(--border-color) !important;
        }
        
        [data-theme="dark"] .border-gray-300 {
            border-color: var(--border-color) !important;
        }
        
        [data-theme="dark"] input,
        [data-theme="dark"] textarea,
        [data-theme="dark"] select {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
            border-color: var(--border-color);
        }
        
        [data-theme="dark"] input:focus,
        [data-theme="dark"] textarea:focus,
        [data-theme="dark"] select:focus {
            background-color: var(--bg-secondary);
        }
        
        /* Mobile Navigation */
        .mobile-nav {
            position: fixed;
            top: 0;
            right: -100%;
            width: 80%;
            height: 100vh;
            background: var(--bg-primary);
            border-left: 1px solid var(--border-color);
            transition: right 0.3s ease;
            z-index: 60;
            padding: 2rem 1rem;
        }
        
        .mobile-nav.open {
            right: 0;
        }
        
        .mobile-nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 55;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .mobile-nav-overlay.open {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body class="bg-gray-50 persian-pattern">
    <!-- Mobile Navigation Overlay -->
    <div id="mobileNavOverlay" class="mobile-nav-overlay" onclick="closeMobileNav()"></div>
    
    <!-- Mobile Navigation -->
    <nav id="mobileNav" class="mobile-nav">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-xl font-bold">Ù…Ù†Ùˆ</h2>
            <button onclick="closeMobileNav()" class="p-2">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        
        <div class="space-y-4">
            <a href="#" onclick="closeMobileNav()" class="block py-3 px-4 rounded-lg hover:bg-gray-100 transition-colors">Ø®Ø§Ù†Ù‡</a>
            <a href="#products" onclick="closeMobileNav(); scrollToProducts()" class="block py-3 px-4 rounded-lg hover:bg-gray-100 transition-colors">Ù…Ø­ØµÙˆÙ„Ø§Øª</a>
            <a href="#custom" onclick="closeMobileNav(); openDesignModal()" class="block py-3 px-4 rounded-lg hover:bg-gray-100 transition-colors">Ø³ÙØ§Ø±Ø´ Ú©Ø§Ø³ØªÙˆÙ…</a>
            <a href="#about" onclick="closeMobileNav(); scrollToSection('about')" class="block py-3 px-4 rounded-lg hover:bg-gray-100 transition-colors">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a>
            <a href="#contact" onclick="closeMobileNav(); scrollToSection('contact')" class="block py-3 px-4 rounded-lg hover:bg-gray-100 transition-colors">ØªÙ…Ø§Ø³</a>
        </div>
        
        <div class="mt-8 pt-8 border-t border-gray-200">
            <div class="flex items-center justify-between mb-4">
                <span class="text-sm font-medium">Ø­Ø§Ù„Øª ØªØ§Ø±ÛŒÚ©</span>
                <div class="theme-toggle" onclick="toggleTheme()"></div>
            </div>
            
            <div id="mobileAuthSection" class="mt-6">
                <button id="mobileAuthButton" onclick="showAuthModal(); closeMobileNav()" class="w-full bg-gradient-to-r from-red-600 to-orange-600 text-white py-3 rounded-lg hover:from-red-700 hover:to-orange-700 transition-all font-medium">
                    ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øª Ù†Ø§Ù…
                </button>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <header class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <div onclick="showAdminLogin()" class="w-12 h-12 gradient-bg rounded-full flex items-center justify-center floating-element cursor-pointer hover:scale-110 transition-transform">
                        <span class="text-white font-bold text-xl">Ù†</span>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800">Ù†Ù‚Ø´ÛŒÙ†Ù‡</h1>
                        <p class="text-sm text-gray-600 hidden sm:block">ØªÛŒØ´Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø³ØªÙˆÙ… Ø§ÛŒØ±Ø§Ù†ÛŒ</p>
                    </div>
                </div>
                
                <nav class="desktop-nav hidden md:flex space-x-8 space-x-reverse">
                    <a href="#" class="text-gray-700 hover:text-orange-600 font-medium transition-colors">Ø®Ø§Ù†Ù‡</a>
                    <a href="#products" class="text-gray-700 hover:text-orange-600 font-medium transition-colors">Ù…Ø­ØµÙˆÙ„Ø§Øª</a>
                    <a href="#custom" class="text-gray-700 hover:text-orange-600 font-medium transition-colors">Ø³ÙØ§Ø±Ø´ Ú©Ø§Ø³ØªÙˆÙ…</a>
                    <a href="#about" class="text-gray-700 hover:text-orange-600 font-medium transition-colors">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a>
                    <a href="#contact" class="text-gray-700 hover:text-orange-600 font-medium transition-colors">ØªÙ…Ø§Ø³</a>
                </nav>
                
                <div class="flex items-center space-x-3 space-x-reverse">
                    <!-- Theme Toggle (Desktop) -->
                    <div class="hidden md:flex items-center space-x-2 space-x-reverse">
                        <div class="theme-toggle" onclick="toggleTheme()"></div>
                    </div>
                    
                    <!-- Cart Button -->
                    <button onclick="toggleCart()" class="relative p-2 text-gray-700 hover:text-orange-600 transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5.4M7 13v6a2 2 0 002 2h6a2 2 0 002-2v-6m-8 0V9a2 2 0 012-2h4a2 2 0 012 2v4"></path>
                        </svg>
                        <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center cart-count" id="cartCount">0</span>
                    </button>
                    
                    <!-- Auth Button -->
                    <button id="authButton" onclick="showAuthModal()" class="hidden sm:block bg-gradient-to-r from-red-600 to-orange-600 text-white px-4 lg:px-6 py-2 rounded-full hover:from-red-700 hover:to-orange-700 transition-all font-medium text-sm lg:text-base">
                        ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øª Ù†Ø§Ù…
                    </button>
                    
                    <!-- Mobile Menu Button -->
                    <button onclick="openMobileNav()" class="mobile-menu md:hidden p-2 text-gray-700 hover:text-orange-600 transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="gradient-bg text-white py-12 md:py-20 relative overflow-hidden">
        <div class="absolute inset-0 opacity-10">
            <div class="floating-element absolute top-10 left-10 w-20 h-20 persian-ornament"></div>
            <div class="floating-element absolute top-32 right-20 w-16 h-16 persian-ornament" style="animation-delay: -2s;"></div>
            <div class="floating-element absolute bottom-20 left-32 w-24 h-24 persian-ornament" style="animation-delay: -4s;"></div>
        </div>
        <div class="container mx-auto px-4 text-center relative z-10">
            <h2 class="hero-title text-3xl md:text-5xl font-bold mb-4 md:mb-6">ØªÛŒØ´Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø§ÛŒØ±Ø§Ù†ÛŒ</h2>
            <p class="hero-subtitle text-lg md:text-xl mb-6 md:mb-8 max-w-2xl mx-auto px-4">Ø·Ø±Ø­â€ŒÙ‡Ø§ÛŒ Ø§Ù„Ù‡Ø§Ù… Ú¯Ø±ÙØªÙ‡ Ø§Ø² Ù‡Ù†Ø± Ùˆ ÙØ±Ù‡Ù†Ú¯ Ú©Ù‡Ù† Ø§ÛŒØ±Ø§Ù†ØŒ Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨ÛŒâ€ŒÙ†Ø¸ÛŒØ± Ùˆ Ø·Ø±Ø§Ø­ÛŒ Ù…Ø¯Ø±Ù†</p>
            <div class="hero-buttons flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-4 sm:space-x-reverse px-4">
                <button onclick="scrollToProducts()" class="bg-white text-orange-600 px-6 md:px-8 py-3 rounded-full font-bold hover:bg-gray-100 transition-colors hover-scale w-full sm:w-auto">
                    Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª
                </button>
                <button onclick="openDesignModal()" class="border-2 border-white text-white px-6 md:px-8 py-3 rounded-full font-bold hover:bg-white hover:text-orange-600 transition-all hover-scale w-full sm:w-auto">
                    Ø³ÙØ§Ø±Ø´ Ú©Ø§Ø³ØªÙˆÙ…
                </button>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section id="products" class="py-12 md:py-16">
        <div class="container mx-auto px-4">
            <div class="text-center mb-8 md:mb-12">
                <h3 class="section-title text-3xl md:text-4xl font-bold text-gray-800 mb-4">Ù…Ø­ØµÙˆÙ„Ø§Øª ÙˆÛŒÚ˜Ù‡</h3>
                <div class="w-24 h-1 bg-gradient-to-r from-red-600 to-orange-600 mx-auto mb-6"></div>
                <p class="text-gray-600 text-base md:text-lg px-4">Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ø§Ø² Ø¨Ù‡ØªØ±ÛŒÙ† Ø·Ø±Ø­â€ŒÙ‡Ø§ÛŒ Ù…Ø§</p>
            </div>
            
            <div id="productsGrid" class="product-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8">
                <!-- Products will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Custom Order Section -->
    <section id="custom" class="py-16 bg-white relative overflow-hidden">
        <div class="absolute inset-0 opacity-5">
            <div class="floating-element absolute top-20 left-10 w-32 h-32 persian-ornament"></div>
            <div class="floating-element absolute bottom-20 right-10 w-28 h-28 persian-ornament" style="animation-delay: -3s;"></div>
        </div>
        <div class="container mx-auto px-4 relative z-10">
            <div class="max-w-4xl mx-auto text-center">
                <h3 class="text-4xl font-bold text-gray-800 mb-6">Ø³ÙØ§Ø±Ø´ Ú©Ø§Ø³ØªÙˆÙ…</h3>
                <div class="w-24 h-1 bg-gradient-to-r from-red-600 to-orange-600 mx-auto mb-8"></div>
                <p class="text-gray-600 text-lg mb-12">Ø·Ø±Ø­ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø³Ø§Ø²ÛŒØ¯</p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-red-600 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 floating-element">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                            </svg>
                        </div>
                        <h4 class="text-xl font-bold text-gray-800 mb-2">Ø·Ø±Ø§Ø­ÛŒ</h4>
                        <p class="text-gray-600">Ø·Ø±Ø­ Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-red-600 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 floating-element" style="animation-delay: -1s;">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                        </div>
                        <h4 class="text-xl font-bold text-gray-800 mb-2">ØªÙˆÙ„ÛŒØ¯</h4>
                        <p class="text-gray-600">Ø¨Ø§ Ø¨Ù‡ØªØ±ÛŒÙ† Ú©ÛŒÙÛŒØª ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-red-600 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 floating-element" style="animation-delay: -2s;">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                            </svg>
                        </div>
                        <h4 class="text-xl font-bold text-gray-800 mb-2">Ø§Ø±Ø³Ø§Ù„</h4>
                        <p class="text-gray-600">Ø§Ø±Ø³Ø§Ù„ Ø³Ø±ÛŒØ¹ Ø¨Ù‡ Ø³Ø±Ø§Ø³Ø± Ú©Ø´ÙˆØ±</p>
                    </div>
                </div>
                
                <button onclick="openDesignModal()" class="bg-gradient-to-r from-red-600 to-orange-600 text-white px-12 py-4 rounded-full text-lg font-bold hover:from-red-700 hover:to-orange-700 transition-all hover-scale">
                    Ø´Ø±ÙˆØ¹ Ø³ÙØ§Ø±Ø´ Ú©Ø§Ø³ØªÙˆÙ…
                </button>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-12 md:py-16 persian-pattern">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto text-center">
                <h3 class="section-title text-3xl md:text-4xl font-bold text-gray-800 mb-6">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù†Ù‚Ø´ÛŒÙ†Ù‡</h3>
                <div class="w-24 h-1 bg-gradient-to-r from-red-600 to-orange-600 mx-auto mb-8"></div>
                <p class="text-gray-700 text-base md:text-lg leading-relaxed mb-8 px-4">
                    Ù…Ø§ Ø¯Ø± Ù†Ù‚Ø´ÛŒÙ†Ù‡ Ø¨Ø§ Ø¹Ø´Ù‚ Ùˆ Ø§Ø­ØªØ±Ø§Ù… Ø¨Ù‡ ÙØ±Ù‡Ù†Ú¯ ØºÙ†ÛŒ Ø§ÛŒØ±Ø§Ù†ØŒ ØªÛŒØ´Ø±Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ø¨Ø§ Ø·Ø±Ø­â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ùˆ Ø§Ù„Ù‡Ø§Ù… Ú¯Ø±ÙØªÙ‡ Ø§Ø² Ù‡Ù†Ø± Ùˆ ØªØ§Ø±ÛŒØ® Ú©Ù‡Ù† Ø§ÛŒØ±Ø§Ù† ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…. Ù‡Ø¯Ù Ù…Ø§ ØªØ±ÙˆÛŒØ¬ ÙØ±Ù‡Ù†Ú¯ Ø§ÛŒØ±Ø§Ù†ÛŒ Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ø­Ø³ ØªØ¹Ù„Ù‚ Ùˆ ØºØ±ÙˆØ± Ù…Ù„ÛŒ Ø¯Ø± Ù‡Ù…ÙˆØ·Ù†Ø§Ù† Ø¹Ø²ÛŒØ² Ø§Ø³Øª.
                </p>
                <div class="stats-grid grid grid-cols-1 sm:grid-cols-3 gap-4 md:gap-8">
                    <div class="bg-white rounded-2xl p-4 md:p-6 shadow-lg hover-scale">
                        <div class="text-2xl md:text-3xl font-bold text-orange-600 mb-2">Û±Û°Û°+</div>
                        <div class="text-gray-700 font-medium text-sm md:text-base">Ø·Ø±Ø­ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯</div>
                    </div>
                    <div class="bg-white rounded-2xl p-4 md:p-6 shadow-lg hover-scale">
                        <div class="text-2xl md:text-3xl font-bold text-orange-600 mb-2">ÛµÛ°Û°Û°+</div>
                        <div class="text-gray-700 font-medium text-sm md:text-base">Ù…Ø´ØªØ±ÛŒ Ø±Ø§Ø¶ÛŒ</div>
                    </div>
                    <div class="bg-white rounded-2xl p-4 md:p-6 shadow-lg hover-scale">
                        <div class="text-2xl md:text-3xl font-bold text-orange-600 mb-2">Û¹Û¸%</div>
                        <div class="text-gray-700 font-medium text-sm md:text-base">Ø±Ø¶Ø§ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù†</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-12 md:py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto text-center">
                <h3 class="section-title text-3xl md:text-4xl font-bold text-gray-800 mb-6">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</h3>
                <div class="w-24 h-1 bg-gradient-to-r from-red-600 to-orange-600 mx-auto mb-8"></div>
                
                <div class="contact-grid grid grid-cols-1 sm:grid-cols-3 gap-6 md:gap-8 mb-12">
                    <div class="text-center">
                        <div class="w-14 md:w-16 h-14 md:h-16 bg-gradient-to-r from-red-600 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-6 md:w-8 h-6 md:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                            </svg>
                        </div>
                        <h4 class="text-lg md:text-xl font-bold text-gray-800 mb-2">ØªÙ„ÙÙ†</h4>
                        <p class="text-gray-600 text-sm md:text-base">025-32701</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-14 md:w-16 h-14 md:h-16 bg-gradient-to-r from-red-600 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-6 md:w-8 h-6 md:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <h4 class="text-lg md:text-xl font-bold text-gray-800 mb-2">Ø§ÛŒÙ…ÛŒÙ„</h4>
                        <p class="text-gray-600 text-sm md:text-base break-all">naghshinekari@gmail.com</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-14 md:w-16 h-14 md:h-16 bg-gradient-to-r from-red-600 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-6 md:w-8 h-6 md:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                        </div>
                        <h4 class="text-lg md:text-xl font-bold text-gray-800 mb-2">Ø¢Ø¯Ø±Ø³</h4>
                        <p class="text-gray-600 text-sm md:text-base">Ù‚Ù…ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† Ø§Ù…Ø§Ù… Ø®Ù…ÛŒÙ†ÛŒ</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 md:py-12">
        <div class="container mx-auto px-4">
            <div class="footer-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 md:gap-8">
                <div class="text-center sm:text-right">
                    <div class="flex items-center justify-center sm:justify-start space-x-3 space-x-reverse mb-4">
                        <div class="w-10 h-10 gradient-bg rounded-full flex items-center justify-center">
                            <span class="text-white font-bold">Ù†</span>
                        </div>
                        <span class="text-xl font-bold">Ù†Ù‚Ø´ÛŒÙ†Ù‡</span>
                    </div>
                    <p class="text-gray-400 mb-4 text-sm md:text-base">ØªÛŒØ´Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø³ØªÙˆÙ… Ø§ÛŒØ±Ø§Ù†ÛŒ Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨ÛŒâ€ŒÙ†Ø¸ÛŒØ±</p>
                </div>
                
                <div class="text-center sm:text-right">
                    <h4 class="text-lg font-bold mb-4">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</h4>
                    <ul class="space-y-2 text-sm md:text-base">
                        <li><a href="#" class="text-gray-400 hover:text-orange-500 transition-colors">ØªÛŒØ´Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ú©Ù„Ø§Ø³ÛŒÚ©</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-orange-500 transition-colors">Ø·Ø±Ø­â€ŒÙ‡Ø§ÛŒ Ù…Ø¯Ø±Ù†</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-orange-500 transition-colors">Ù†Ù‚ÙˆØ´ Ø³Ù†ØªÛŒ</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-orange-500 transition-colors">Ø³ÙØ§Ø±Ø´ Ú©Ø§Ø³ØªÙˆÙ…</a></li>
                    </ul>
                </div>
                
                <div class="text-center sm:text-right">
                    <h4 class="text-lg font-bold mb-4">Ø®Ø¯Ù…Ø§Øª</h4>
                    <ul class="space-y-2 text-sm md:text-base">
                        <li><a href="#" class="text-gray-400 hover:text-orange-500 transition-colors">Ø§Ø±Ø³Ø§Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù†</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-orange-500 transition-colors">Ø¶Ù…Ø§Ù†Øª Ú©ÛŒÙÛŒØª</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-orange-500 transition-colors">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Û²Û´/Û·</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-orange-500 transition-colors">Ø¨Ø§Ø²Ú¯Ø´Øª ÙˆØ¬Ù‡</a></li>
                    </ul>
                </div>
                
                <div class="text-center sm:text-right">
                    <h4 class="text-lg font-bold mb-4">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</h4>
                    <div class="space-y-2 text-gray-400 text-sm md:text-base">
                        <p>ğŸ“ 025-32701</p>
                        <p class="break-all">ğŸ“§ naghshinekari@gmail.com</p>
                        <p>ğŸ“ Ù‚Ù…ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† Ø§Ù…Ø§Ù… Ø®Ù…ÛŒÙ†ÛŒ</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-6 md:mt-8 pt-6 md:pt-8 text-center">
                <p class="text-gray-400 text-sm md:text-base">Â© Û±Û´Û°Û³ Ù†Ù‚Ø´ÛŒÙ†Ù‡. ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.</p>
            </div>
        </div>
    </footer>

    <!-- Cart Sidebar -->
    <div id="cartOverlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50" onclick="toggleCart()"></div>
    <div id="cartSidebar" class="cart-sidebar fixed top-0 right-0 h-full w-full sm:w-96 bg-white shadow-2xl z-50 transform translate-x-full transition-transform duration-300 ease-in-out">
        <div class="flex flex-col h-full">
            <div class="flex items-center justify-between p-6 border-b border-gray-200">
                <h3 class="text-xl font-bold text-gray-800">Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</h3>
                <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="flex-1 overflow-y-auto">
                <div id="cartItems">
                    <div id="emptyCart" class="text-center py-12">
                        <svg class="w-16 h-16 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5.4M7 13v6a2 2 0 002 2h6a2 2 0 002-2v-6m-8 0V9a2 2 0 012-2h4a2 2 0 012 2v4"></path>
                        </svg>
                        <p class="text-gray-500">Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª</p>
                    </div>
                </div>
            </div>
            
            <div id="cartFooter" class="p-6 border-t border-gray-200 hidden">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-lg font-bold text-gray-800">Ù…Ø¬Ù…ÙˆØ¹:</span>
                    <span id="cartTotal" class="text-xl font-bold text-orange-600">Û° ØªÙˆÙ…Ø§Ù†</span>
                </div>
                <button onclick="proceedToCheckout()" class="w-full bg-gradient-to-r from-red-600 to-orange-600 text-white py-3 rounded-full font-bold hover:from-red-700 hover:to-orange-700 transition-all">
                    ØªÚ©Ù…ÛŒÙ„ Ø®Ø±ÛŒØ¯
                </button>
            </div>
        </div>
    </div>

    <!-- Design Modal -->
    <div id="designModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="modal-content bg-white rounded-2xl p-4 md:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-gray-800">Ø·Ø±Ø§Ø­ÛŒ Ú©Ø§Ø³ØªÙˆÙ…</h3>
                <button onclick="closeDesignModal()" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h4 class="text-lg font-bold text-gray-800 mb-4">Ø¢Ù¾Ù„ÙˆØ¯ Ø·Ø±Ø­</h4>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-orange-500 transition-colors">
                        <input type="file" id="designFile" accept="image/*" class="hidden" onchange="handleFileUpload(event)">
                        <label for="designFile" class="cursor-pointer">
                            <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                            </svg>
                            <p class="text-gray-600">Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ ÛŒØ§ ÙØ§ÛŒÙ„ Ø±Ø§ Ø¨Ú©Ø´ÛŒØ¯</p>
                            <p class="text-sm text-gray-500 mt-2">PNG, JPG, SVG ØªØ§ 5MB</p>
                        </label>
                    </div>
                    
                    <div id="designPreview" class="mt-4 h-32 bg-gray-100 rounded-lg flex items-center justify-center">
                        <span class="text-gray-500">Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ Ø·Ø±Ø­</span>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold text-gray-800 mb-4">ØªÙ†Ø¸ÛŒÙ…Ø§Øª</h4>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø±Ù†Ú¯ ØªÛŒØ´Ø±Øª</label>
                        <div class="flex space-x-3 space-x-reverse">
                            <button onclick="selectColor('white')" class="w-8 h-8 bg-white border-2 border-gray-300 rounded-full hover:border-orange-500 transition-colors selected-color" data-color="white"></button>
                            <button onclick="selectColor('black')" class="w-8 h-8 bg-black rounded-full hover:ring-2 hover:ring-orange-500 transition-all" data-color="black"></button>
                            <button onclick="selectColor('gray')" class="w-8 h-8 bg-gray-500 rounded-full hover:ring-2 hover:ring-orange-500 transition-all" data-color="gray"></button>
                            <button onclick="selectColor('blue')" class="w-8 h-8 bg-blue-500 rounded-full hover:ring-2 hover:ring-orange-500 transition-all" data-color="blue"></button>
                            <button onclick="selectColor('red')" class="w-8 h-8 bg-red-500 rounded-full hover:ring-2 hover:ring-orange-500 transition-all" data-color="red"></button>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø³Ø§ÛŒØ²</label>
                        <div class="grid grid-cols-4 gap-2">
                            <button onclick="selectSize('S')" class="py-2 px-4 border border-gray-300 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-colors" data-size="S">S</button>
                            <button onclick="selectSize('M')" class="py-2 px-4 border border-orange-500 bg-orange-50 rounded-lg selected-size" data-size="M">M</button>
                            <button onclick="selectSize('L')" class="py-2 px-4 border border-gray-300 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-colors" data-size="L">L</button>
                            <button onclick="selectSize('XL')" class="py-2 px-4 border border-gray-300 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-colors" data-size="XL">XL</button>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">ØªØ¹Ø¯Ø§Ø¯</label>
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <button onclick="decreaseQuantity()" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
                                </svg>
                            </button>
                            <span id="customQuantity" class="text-lg font-bold">1</span>
                            <button onclick="increaseQuantity()" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <div class="text-2xl font-bold text-orange-600 mb-4">Û³ÛµÛ°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</div>
                        <button onclick="addCustomToCart()" class="w-full bg-gradient-to-r from-red-600 to-orange-600 text-white py-3 rounded-full font-bold hover:from-red-700 hover:to-orange-700 transition-all">
                            Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="modal-content bg-white rounded-2xl p-4 md:p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-gray-800">ØªÚ©Ù…ÛŒÙ„ Ø®Ø±ÛŒØ¯</h3>
                <button onclick="closeCheckoutModal()" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="checkout-grid grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8">
                <!-- Customer Information -->
                <div>
                    <h4 class="text-lg font-bold text-gray-800 mb-4">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø´ØªØ±ÛŒ</h4>
                    <form id="checkoutForm" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ù†Ø§Ù…</label>
                                <input type="text" id="firstName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</label>
                                <input type="text" id="lastName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†</label>
                            <input type="tel" id="phone" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø§ÛŒÙ…ÛŒÙ„</label>
                            <input type="email" id="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„</label>
                            <textarea id="address" required rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"></textarea>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ø´Ù‡Ø±</label>
                                <input type="text" id="city" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ú©Ø¯ Ù¾Ø³ØªÛŒ</label>
                                <input type="text" id="postalCode" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                            </div>
                        </div>
                    </form>
                </div>
                
                <!-- Order Summary & Payment -->
                <div>
                    <h4 class="text-lg font-bold text-gray-800 mb-4">Ø®Ù„Ø§ØµÙ‡ Ø³ÙØ§Ø±Ø´</h4>
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <div id="checkoutItems"></div>
                        <div class="border-t border-gray-200 pt-4 mt-4">
                            <div class="flex justify-between items-center mb-2">
                                <span>Ø¬Ù…Ø¹ Ú©Ù„:</span>
                                <span id="checkoutSubtotal">Û° ØªÙˆÙ…Ø§Ù†</span>
                            </div>
                            <div class="flex justify-between items-center mb-2">
                                <span>Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„:</span>
                                <span>Û³Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
                            </div>
                            <div class="flex justify-between items-center text-lg font-bold">
                                <span>Ù…Ø¬Ù…ÙˆØ¹ Ù†Ù‡Ø§ÛŒÛŒ:</span>
                                <span id="checkoutTotal">Û° ØªÙˆÙ…Ø§Ù†</span>
                            </div>
                        </div>
                    </div>
                    
                    <h4 class="text-lg font-bold text-gray-800 mb-4">Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª</h4>
                    <div class="space-y-3 mb-6">
                        <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                            <input type="radio" name="paymentMethod" value="online" class="ml-3" checked>
                            <div class="flex items-center">
                                <svg class="w-6 h-6 text-blue-600 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                                </svg>
                                <span>Ù¾Ø±Ø¯Ø§Ø®Øª Ø¢Ù†Ù„Ø§ÛŒÙ†</span>
                            </div>
                        </label>
                        
                        <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                            <input type="radio" name="paymentMethod" value="cod" class="ml-3">
                            <div class="flex items-center">
                                <svg class="w-6 h-6 text-green-600 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                </svg>
                                <span>Ù¾Ø±Ø¯Ø§Ø®Øª Ø¯Ø± Ù…Ø­Ù„</span>
                            </div>
                        </label>
                    </div>
                    
                    <button onclick="submitOrder()" class="w-full bg-gradient-to-r from-red-600 to-orange-600 text-white py-3 rounded-full font-bold hover:from-red-700 hover:to-orange-700 transition-all">
                        Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- User Authentication Modal -->
    <div id="authModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
            <div class="flex items-center justify-between mb-6">
                <h3 id="authTitle" class="text-2xl font-bold text-gray-800">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3>
                <button onclick="closeAuthModal()" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Login Form -->
            <div id="loginForm">
                <form class="space-y-4" onsubmit="handleLogin(event)">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø§ÛŒÙ…ÛŒÙ„</label>
                        <input type="email" id="loginEmail" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="example@email.com">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
                        <input type="password" id="loginPassword" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-gray-300 text-orange-600 focus:ring-orange-500">
                            <span class="mr-2 text-sm text-gray-600">Ù…Ø±Ø§ Ø¨Ù‡ Ø®Ø§Ø·Ø± Ø¨Ø³Ù¾Ø§Ø±</span>
                        </label>
                        <a href="#" class="text-sm text-orange-600 hover:text-orange-700">ÙØ±Ø§Ù…ÙˆØ´ÛŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±ØŸ</a>
                    </div>
                    
                    <button type="submit" class="w-full bg-gradient-to-r from-red-600 to-orange-600 text-white py-3 rounded-lg hover:from-red-700 hover:to-orange-700 transition-all font-medium">
                        ÙˆØ±ÙˆØ¯
                    </button>
                </form>
                
                <div class="mt-6 text-center">
                    <p class="text-gray-600">Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯ØŸ 
                        <button onclick="showRegisterForm()" class="text-orange-600 hover:text-orange-700 font-medium">Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ù†ÛŒØ¯</button>
                    </p>
                </div>
            </div>
            
            <!-- Register Form -->
            <div id="registerForm" class="hidden">
                <form class="space-y-4" onsubmit="handleRegister(event)">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ù†Ø§Ù…</label>
                            <input type="text" id="registerFirstName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</label>
                            <input type="text" id="registerLastName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø§ÛŒÙ…ÛŒÙ„</label>
                        <input type="email" id="registerEmail" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="example@email.com">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†</label>
                        <input type="tel" id="registerPhone" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="09123456789">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
                        <input type="password" id="registerPassword" required minlength="6" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
                        <input type="password" id="registerConfirmPassword" required minlength="6" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                    </div>
                    
                    <div class="flex items-center">
                        <input type="checkbox" id="agreeTerms" required class="rounded border-gray-300 text-orange-600 focus:ring-orange-500">
                        <label for="agreeTerms" class="mr-2 text-sm text-gray-600">
                            Ø¨Ø§ <a href="#" class="text-orange-600 hover:text-orange-700">Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ù…Ù‚Ø±Ø±Ø§Øª</a> Ù…ÙˆØ§ÙÙ‚Ù…
                        </label>
                    </div>
                    
                    <button type="submit" class="w-full bg-gradient-to-r from-red-600 to-orange-600 text-white py-3 rounded-lg hover:from-red-700 hover:to-orange-700 transition-all font-medium">
                        Ø«Ø¨Øª Ù†Ø§Ù…
                    </button>
                </form>
                
                <div class="mt-6 text-center">
                    <p class="text-gray-600">Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯ØŸ 
                        <button onclick="showLoginForm()" class="text-orange-600 hover:text-orange-700 font-medium">ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯</button>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800">ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†</h3>
            </div>
            
            <form id="adminLoginForm" class="space-y-4" onsubmit="handleAdminLogin(event)">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
                    <input type="password" id="adminPassword" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                </div>
                
                <div class="flex space-x-4 space-x-reverse">
                    <button type="button" onclick="closeAdminLogin()" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                        Ø§Ù†ØµØ±Ø§Ù
                    </button>
                    <button type="submit" class="flex-1 bg-gradient-to-r from-red-600 to-orange-600 text-white py-2 rounded-lg hover:from-red-700 hover:to-orange-700 transition-all">
                        ÙˆØ±ÙˆØ¯
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="fixed inset-0 bg-gray-900 hidden z-50 overflow-y-auto admin-panel">
        <div class="min-h-screen">
            <!-- Admin Header -->
            <div class="bg-gray-800 shadow-lg">
                <div class="container mx-auto px-4 py-4">
                    <div class="flex justify-between items-center">
                        <h1 class="text-2xl font-bold text-white">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù‚Ø´ÛŒÙ†Ù‡</h1>
                        <button onclick="closeAdminPanel()" class="text-white hover:text-red-400 transition-colors">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Admin Navigation -->
            <div class="container mx-auto px-4 py-6">
                <div class="flex space-x-4 space-x-reverse mb-8">
                    <button onclick="showAdminSection('products')" class="admin-nav-btn bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                        Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª
                    </button>
                    <button onclick="showAdminSection('orders')" class="admin-nav-btn bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors">
                        Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´Ø§Øª
                    </button>
                    <button onclick="showAdminSection('emails')" class="admin-nav-btn bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-colors">
                        Ù…Ø¯ÛŒØ±ÛŒØª Ø§ÛŒÙ…ÛŒÙ„â€ŒÙ‡Ø§
                    </button>
                    <button onclick="showAdminSection('settings')" class="admin-nav-btn bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors">
                        ØªÙ†Ø¸ÛŒÙ…Ø§Øª
                    </button>
                </div>
                
                <!-- Products Management -->
                <div id="adminProducts" class="admin-section">
                    <div class="admin-card rounded-2xl p-6 mb-6">
                        <h3 class="text-xl font-bold text-white mb-4">Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯</h3>
                        <form id="addProductForm" class="grid grid-cols-1 md:grid-cols-2 gap-4" onsubmit="addProduct(event)">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</label>
                                <input type="text" id="productName" required class="w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Ù‚ÛŒÙ…Øª (ØªÙˆÙ…Ø§Ù†)</label>
                                <input type="number" id="productPrice" required class="w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500">
                            </div>
                            <div class="md:col-span-2">
                                <label class="block text-sm font-medium text-gray-300 mb-2">ØªÙˆØ¶ÛŒØ­Ø§Øª</label>
                                <textarea id="productDescription" required class="w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500"></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">ØªØµÙˆÛŒØ± Ù…Ø­ØµÙˆÙ„</label>
                                <input type="file" id="productImage" accept="image/*" class="w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg">
                            </div>
                            <div class="flex items-end">
                                <button type="submit" class="w-full bg-gradient-to-r from-red-600 to-orange-600 text-white py-2 rounded-lg hover:from-red-700 hover:to-orange-700 transition-all">
                                    Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="admin-card rounded-2xl p-6">
                        <h3 class="text-xl font-bold text-white mb-4">Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…ÙˆØ¬ÙˆØ¯</h3>
                        <div id="adminProductsList" class="space-y-4">
                            <!-- Products will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <!-- Orders Management -->
                <div id="adminOrders" class="admin-section hidden">
                    <div class="admin-card rounded-2xl p-6">
                        <h3 class="text-xl font-bold text-white mb-4">Ø³ÙØ§Ø±Ø´Ø§Øª</h3>
                        <div id="adminOrdersList" class="space-y-4">
                            <!-- Orders will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <!-- Email Management -->
                <div id="adminEmails" class="admin-section hidden">
                    <div class="admin-card rounded-2xl p-6 mb-6">
                        <h3 class="text-xl font-bold text-white mb-4">Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„ Ø¯Ø³ØªÛŒ</h3>
                        <form id="manualEmailForm" class="space-y-4" onsubmit="sendManualEmail(event)">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Ø¢Ø¯Ø±Ø³ Ø§ÛŒÙ…ÛŒÙ„ Ú¯ÛŒØ±Ù†Ø¯Ù‡</label>
                                <input type="email" id="manualEmailTo" required class="w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500" placeholder="customer@example.com">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Ù…ÙˆØ¶ÙˆØ¹ Ø§ÛŒÙ…ÛŒÙ„</label>
                                <input type="text" id="manualEmailSubject" required class="w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500" placeholder="Ù…ÙˆØ¶ÙˆØ¹ Ø§ÛŒÙ…ÛŒÙ„">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Ù…ØªÙ† Ø§ÛŒÙ…ÛŒÙ„</label>
                                <textarea id="manualEmailBody" required rows="6" class="w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500" placeholder="Ù…ØªÙ† Ø§ÛŒÙ…ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..."></textarea>
                            </div>
                            <button type="submit" class="bg-gradient-to-r from-red-600 to-orange-600 text-white px-6 py-2 rounded-lg hover:from-red-700 hover:to-orange-700 transition-all">
                                Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„
                            </button>
                        </form>
                    </div>
                    
                    <div class="admin-card rounded-2xl p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xl font-bold text-white">ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø§ÛŒÙ…ÛŒÙ„â€ŒÙ‡Ø§</h3>
                            <div class="flex space-x-2 space-x-reverse">
                                <button onclick="refreshEmailLog()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm">
                                    Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ
                                </button>
                                <button onclick="clearEmailLog()" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm">
                                    Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†
                                </button>
                            </div>
                        </div>
                        <div id="emailLogContainer" class="space-y-3 max-h-96 overflow-y-auto">
                            <!-- Email log will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <!-- Settings -->
                <div id="adminSettings" class="admin-section hidden">
                    <div class="admin-card rounded-2xl p-6 mb-6">
                        <h3 class="text-xl font-bold text-white mb-4">ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙØ±ÙˆØ´Ú¯Ø§Ù‡</h3>
                        <form id="settingsForm" class="space-y-4" onsubmit="saveSettings(event)">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Ù†Ø§Ù… ÙØ±ÙˆØ´Ú¯Ø§Ù‡</label>
                                <input type="text" id="shopName" value="Ù†Ù‚Ø´ÛŒÙ†Ù‡" class="w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†</label>
                                <input type="text" id="shopPhone" value="025-32701" class="w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Ø§ÛŒÙ…ÛŒÙ„</label>
                                <input type="email" id="shopEmail" value="naghshinekari@gmail.com" class="w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Ø¢Ø¯Ø±Ø³</label>
                                <textarea id="shopAddress" class="w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500">Ù‚Ù…ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† Ø§Ù…Ø§Ù… Ø®Ù…ÛŒÙ†ÛŒ</textarea>
                            </div>
                            <button type="submit" class="bg-gradient-to-r from-red-600 to-orange-600 text-white px-6 py-2 rounded-lg hover:from-red-700 hover:to-orange-700 transition-all">
                                Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
                            </button>
                        </form>
                    </div>
                    
                    <!-- Email Management -->
                    <div class="admin-card rounded-2xl p-6">
                        <h3 class="text-xl font-bold text-white mb-4">Ù…Ø¯ÛŒØ±ÛŒØª Ø§ÛŒÙ…ÛŒÙ„â€ŒÙ‡Ø§</h3>
                        <div class="flex justify-between items-center mb-4">
                            <p class="text-gray-300">ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø§ÛŒÙ…ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡</p>
                            <button onclick="clearEmailLog()" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm">
                                Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ØªØ§Ø±ÛŒØ®Ú†Ù‡
                            </button>
                        </div>
                        <div id="emailLogContainer" class="space-y-3 max-h-64 overflow-y-auto">
                            <!-- Email log will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global Variables
        let cartItems = [];
        let cartCount = 0;
        let customQuantity = 1;
        let nextId = 1;
        let selectedColor = 'white';
        let selectedSize = 'M';
        let isAdminLoggedIn = false;
        let currentUser = null;
        let users = [];
        let orders = [];
        let products = [
            {
                id: 1,
                name: 'Ø´ÛŒØ± Ùˆ Ø®ÙˆØ±Ø´ÛŒØ¯',
                price: 299000,
                description: 'Ø·Ø±Ø­ Ú©Ù„Ø§Ø³ÛŒÚ© Ù†Ù…Ø§Ø¯ Ø§ÛŒØ±Ø§Ù† Ø¨Ø§Ø³ØªØ§Ù†',
                image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNTBMMTIwIDkwSDgwTDEwMCA1MFoiIGZpbGw9IiNkYzI2MjYiLz4KPGV4bGlwc2UgY3g9IjEwMCIgY3k9IjEyMCIgcng9IjMwIiByeT0iMjAiIGZpbGw9IiNmNTllMGIiLz4KPHN2ZyB4PSI3MCIgeT0iMTQwIiB3aWR0aD0iNjAiIGhlaWdodD0iNDAiPgo8cGF0aCBkPSJNMTAgMTBMMjAgNUwzMCAxMEwyNSAyMEw1IDIwWiIgZmlsbD0iI2RjMjYyNiIvPgo8L3N2Zz4KPC9zdmc+'
            },
            {
                id: 2,
                name: 'Ù†Ù‚Ø´ Ø§Ø³Ù„ÛŒÙ…ÛŒ',
                price: 259000,
                description: 'Ø·Ø±Ø­ Ø³Ù†ØªÛŒ Ø§Ø³Ù„ÛŒÙ…ÛŒ Ø¨Ø§ Ø±Ù†Ú¯â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ¨Ø§',
                image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxwYXRoIGQ9Ik01MCA1MEM1MCA3MCA3MCA5MCA5MCA5MEM5MCA3MCA3MCA1MCA1MCA1MFoiIGZpbGw9IiNlYTU4MGMiLz4KPHN2ZyB4PSI2MCIgeT0iNjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCI+CjxwYXRoIGQ9Ik0yMCAyMEM0MCAyMCA2MCA0MCA2MCA2MEM0MCA2MCAyMCA0MCAyMCAyMFoiIGZpbGw9IiNkOTc3MDYiLz4KPC9zdmc+CjxwYXRoIGQ9Ik0xMTAgMTEwQzExMCAxMzAgMTMwIDE1MCAxNTAgMTUwQzE1MCAxMzAgMTMwIDExMCAxMTAgMTEwWiIgZmlsbD0iI2VhNTgwYyIvPgo8L3N2Zz4='
            },
            {
                id: 3,
                name: 'Ú©Ø§Ø´ÛŒ Ú©Ø§Ø±ÛŒ',
                price: 329000,
                description: 'Ø§Ù„Ù‡Ø§Ù… Ø§Ø² Ú©Ø§Ø´ÛŒâ€ŒÚ©Ø§Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ØµÙÙ‡Ø§Ù†',
                image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxyZWN0IHg9IjUwIiB5PSI1MCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiMzYjgyZjYiLz4KPHN2ZyB4PSI3NSIgeT0iNzUiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCI+CjxwYXRoIGQ9Ik0yNSAyNUwzNSAxNUw0NSAyNUwzNSAzNVoiIGZpbGw9IiNmNTllMGIiLz4KPC9zdmc+CjxyZWN0IHg9IjYwIiB5PSI2MCIgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkYzI2MjYiIHN0cm9rZS13aWR0aD0iMyIvPgo8L3N2Zz4='
            }
        ];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            updateCartDisplay();
            checkUserSession();
            initializeTheme();
        });

        // Theme Functions
        function initializeTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            showNotification(newTheme === 'dark' ? 'Ø­Ø§Ù„Øª ØªØ§Ø±ÛŒÚ© ÙØ¹Ø§Ù„ Ø´Ø¯' : 'Ø­Ø§Ù„Øª Ø±ÙˆØ´Ù† ÙØ¹Ø§Ù„ Ø´Ø¯');
        }

        // Mobile Navigation Functions
        function openMobileNav() {
            document.getElementById('mobileNav').classList.add('open');
            document.getElementById('mobileNavOverlay').classList.add('open');
            document.body.style.overflow = 'hidden';
        }

        function closeMobileNav() {
            document.getElementById('mobileNav').classList.remove('open');
            document.getElementById('mobileNavOverlay').classList.remove('open');
            document.body.style.overflow = '';
        }

        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }

        // Utility Functions
        function formatPrice(price) {
            return price.toLocaleString('fa-IR') + ' ØªÙˆÙ…Ø§Ù†';
        }

        function generateId() {
            return Date.now() + Math.random();
        }

        // Product Functions
        function loadProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            
            products.forEach(product => {
                const productCard = createProductCard(product);
                grid.appendChild(productCard);
            });
        }

        function createProductCard(product) {
            const card = document.createElement('div');
            card.className = 'product-card rounded-2xl overflow-hidden';
            card.innerHTML = `
                <div class="relative">
                    <img src="${product.image}" alt="${product.name}" class="w-full h-48 md:h-64 object-cover">
                    <div class="absolute top-3 right-3 bg-red-500 text-white px-2 md:px-3 py-1 rounded-full text-xs md:text-sm font-bold">
                        Ø¬Ø¯ÛŒØ¯
                    </div>
                </div>
                <div class="card-padding p-4 md:p-6">
                    <h4 class="text-lg md:text-xl font-bold text-gray-800 mb-2">${product.name}</h4>
                    <p class="text-gray-600 mb-4 text-sm md:text-base">${product.description}</p>
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3">
                        <span class="text-xl md:text-2xl font-bold text-orange-600">${formatPrice(product.price)}</span>
                        <button onclick="addToCart(${product.id})" class="bg-gradient-to-r from-red-600 to-orange-600 text-white px-4 md:px-6 py-2 rounded-full hover:from-red-700 hover:to-orange-700 transition-all font-medium text-sm md:text-base w-full sm:w-auto">
                            Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
                        </button>
                    </div>
                </div>
            `;
            return card;
        }

        // Cart Functions
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const existingItem = cartItems.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cartItems.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    quantity: 1,
                    type: 'product'
                });
            }
            
            updateCartDisplay();
            showNotification('Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!');
        }

        function addCustomToCart() {
            const customItem = {
                id: generateId(),
                name: 'Ø·Ø±Ø§Ø­ÛŒ Ú©Ø§Ø³ØªÙˆÙ…',
                price: 350000,
                image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iNTAiIGZpbGw9IiNmNTllMGIiLz4KPHN2ZyB4PSI3NSIgeT0iNzUiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCI+CjxwYXRoIGQ9Ik0yNSAyNUwzNSAxNUw0NSAyNUwzNSAzNVoiIGZpbGw9IiNkYzI2MjYiLz4KPC9zdmc+CjwvdXN2Zz4=',
                quantity: customQuantity,
                type: 'custom',
                color: selectedColor,
                size: selectedSize
            };
            
            cartItems.push(customItem);
            updateCartDisplay();
            closeDesignModal();
            showNotification('Ø·Ø±Ø§Ø­ÛŒ Ú©Ø§Ø³ØªÙˆÙ… Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!');
        }

        function removeFromCart(itemId) {
            cartItems = cartItems.filter(item => item.id !== itemId);
            updateCartDisplay();
        }

        function updateCartDisplay() {
            cartCount = cartItems.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cartCount').textContent = cartCount;
            
            const cartItemsContainer = document.getElementById('cartItems');
            const emptyCart = document.getElementById('emptyCart');
            const cartFooter = document.getElementById('cartFooter');
            
            if (cartItems.length === 0) {
                emptyCart.classList.remove('hidden');
                cartFooter.classList.add('hidden');
                cartItemsContainer.innerHTML = '<div id="emptyCart" class="text-center py-12"><svg class="w-16 h-16 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5.4M7 13v6a2 2 0 002 2h6a2 2 0 002-2v-6m-8 0V9a2 2 0 012-2h4a2 2 0 012 2v4"></path></svg><p class="text-gray-500">Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª</p></div>';
            } else {
                emptyCart.classList.add('hidden');
                cartFooter.classList.remove('hidden');
                
                cartItemsContainer.innerHTML = cartItems.map(item => `
                    <div class="flex items-center space-x-4 space-x-reverse p-4 border-b border-gray-200">
                        <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-lg">
                        <div class="flex-1">
                            <h4 class="font-bold text-gray-800">${item.name}</h4>
                            ${item.type === 'custom' ? `<p class="text-sm text-gray-600">Ø±Ù†Ú¯: ${item.color} | Ø³Ø§ÛŒØ²: ${item.size}</p>` : ''}
                            <p class="text-orange-600 font-bold">${formatPrice(item.price)}</p>
                        </div>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <span class="text-gray-600">Ã—${item.quantity}</span>
                            <button onclick="removeFromCart('${item.id}')" class="text-red-500 hover:text-red-700">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                `).join('');
                
                const total = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                document.getElementById('cartTotal').textContent = formatPrice(total);
            }
        }

        function toggleCart() {
            const overlay = document.getElementById('cartOverlay');
            const sidebar = document.getElementById('cartSidebar');
            
            if (overlay.classList.contains('hidden')) {
                overlay.classList.remove('hidden');
                sidebar.classList.remove('translate-x-full');
            } else {
                overlay.classList.add('hidden');
                sidebar.classList.add('translate-x-full');
            }
        }

        // Modal Functions
        function openDesignModal() {
            document.getElementById('designModal').classList.remove('hidden');
        }

        function closeDesignModal() {
            document.getElementById('designModal').classList.add('hidden');
        }

        function proceedToCheckout() {
            if (cartItems.length === 0) {
                showNotification('Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª!');
                return;
            }
            
            toggleCart();
            document.getElementById('checkoutModal').classList.remove('hidden');
            
            // Auto-fill form if user is logged in
            if (currentUser) {
                document.getElementById('firstName').value = currentUser.firstName;
                document.getElementById('lastName').value = currentUser.lastName;
                document.getElementById('phone').value = currentUser.phone;
                document.getElementById('email').value = currentUser.email;
            }
            
            // Update checkout items
            const checkoutItems = document.getElementById('checkoutItems');
            checkoutItems.innerHTML = cartItems.map(item => `
                <div class="flex justify-between items-center py-2">
                    <span>${item.name} ${item.type === 'custom' ? `(${item.color}, ${item.size})` : ''} Ã—${item.quantity}</span>
                    <span>${formatPrice(item.price * item.quantity)}</span>
                </div>
            `).join('');
            
            const subtotal = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = 30000;
            const total = subtotal + shipping;
            
            document.getElementById('checkoutSubtotal').textContent = formatPrice(subtotal);
            document.getElementById('checkoutTotal').textContent = formatPrice(total);
        }

        function closeCheckoutModal() {
            document.getElementById('checkoutModal').classList.add('hidden');
        }

        function submitOrder() {
            const form = document.getElementById('checkoutForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            
            // Show loading state
            const submitBtn = document.querySelector('#checkoutModal button[onclick="submitOrder()"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´...';
            submitBtn.disabled = true;
            
            const orderData = {
                id: generateId(),
                date: new Date().toLocaleDateString('fa-IR'),
                time: new Date().toLocaleTimeString('fa-IR'),
                customer: {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    phone: document.getElementById('phone').value,
                    email: document.getElementById('email').value,
                    address: document.getElementById('address').value,
                    city: document.getElementById('city').value,
                    postalCode: document.getElementById('postalCode').value
                },
                items: [...cartItems],
                paymentMethod: document.querySelector('input[name="paymentMethod"]:checked').value,
                status: 'pending',
                subtotal: cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0),
                shipping: 30000,
                total: cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0) + 30000
            };
            
            // Simulate payment processing
            setTimeout(() => {
                const paymentMethod = orderData.paymentMethod;
                
                if (paymentMethod === 'online') {
                    // Simulate online payment
                    showPaymentGateway(orderData);
                } else {
                    // Cash on delivery - direct confirmation
                    processOrderSuccess(orderData);
                }
                
                // Reset button
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }, 1500);
        }
        
        function showPaymentGateway(orderData) {
            closeCheckoutModal();
            
            // Create payment gateway modal
            const paymentModal = document.createElement('div');
            paymentModal.id = 'paymentModal';
            paymentModal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            paymentModal.innerHTML = `
                <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª</h3>
                        <p class="text-gray-600">Ù…Ø¨Ù„Øº Ù‚Ø§Ø¨Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª: <span class="font-bold text-blue-600">${formatPrice(orderData.total)}</span></p>
                    </div>
                    
                    <div class="space-y-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª</label>
                            <input type="text" id="cardNumber" placeholder="1234-5678-9012-3456" maxlength="19" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" oninput="formatCardNumber(this)">
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§</label>
                                <input type="text" id="expiry" placeholder="MM/YY" maxlength="5" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" oninput="formatExpiry(this)">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">CVV</label>
                                <input type="text" id="cvv" placeholder="123" maxlength="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ø±Ù…Ø² Ø¯ÙˆÙ… (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
                            <input type="password" id="secondPassword" placeholder="Ø±Ù…Ø² Ø¯ÙˆÙ… Ú©Ø§Ø±Øª" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                    </div>
                    
                    <div class="flex space-x-4 space-x-reverse">
                        <button onclick="cancelPayment()" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                            Ø§Ù†ØµØ±Ø§Ù
                        </button>
                        <button onclick="processPayment('${orderData.id}')" id="payBtn" class="flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            Ù¾Ø±Ø¯Ø§Ø®Øª
                        </button>
                    </div>
                    
                    <div class="mt-4 text-center">
                        <p class="text-xs text-gray-500">Ø§ÛŒÙ† ÛŒÚ© Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø² Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ø³Øª</p>
                    </div>
                </div>
            `;
            
            document.body.appendChild(paymentModal);
            
            // Store order data for payment processing
            window.pendingOrder = orderData;
        }
        
        function formatCardNumber(input) {
            let value = input.value.replace(/\D/g, '');
            value = value.replace(/(\d{4})(?=\d)/g, '$1-');
            input.value = value;
        }
        
        function formatExpiry(input) {
            let value = input.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
            input.value = value;
        }
        
        function processPayment(orderId) {
            const cardNumber = document.getElementById('cardNumber').value;
            const expiry = document.getElementById('expiry').value;
            const cvv = document.getElementById('cvv').value;
            
            if (!cardNumber || !expiry || !cvv) {
                showNotification('Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯');
                return;
            }
            
            const payBtn = document.getElementById('payBtn');
            payBtn.textContent = 'Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´...';
            payBtn.disabled = true;
            
            // Simulate payment processing
            setTimeout(() => {
                // Simulate random success/failure (90% success rate)
                const isSuccess = Math.random() > 0.1;
                
                if (isSuccess) {
                    processOrderSuccess(window.pendingOrder);
                } else {
                    showPaymentError();
                }
            }, 2000);
        }
        
        function processOrderSuccess(orderData) {
            // Add order to orders list
            orders.push(orderData);
            
            // Send email notification
            sendOrderConfirmationEmail(orderData);
            
            // Clear cart
            cartItems = [];
            updateCartDisplay();
            
            // Close payment modal if exists
            const paymentModal = document.getElementById('paymentModal');
            if (paymentModal) {
                document.body.removeChild(paymentModal);
            }
            
            // Show success modal
            showOrderSuccessModal(orderData);
        }
        
        function showPaymentError() {
            const payBtn = document.getElementById('payBtn');
            payBtn.textContent = 'Ù¾Ø±Ø¯Ø§Ø®Øª';
            payBtn.disabled = false;
            
            showNotification('Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù¾Ø±Ø¯Ø§Ø®Øª. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.');
        }
        
        function cancelPayment() {
            const paymentModal = document.getElementById('paymentModal');
            if (paymentModal) {
                document.body.removeChild(paymentModal);
            }
            window.pendingOrder = null;
        }
        
        function showOrderSuccessModal(orderData) {
            const successModal = document.createElement('div');
            successModal.id = 'successModal';
            successModal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            successModal.innerHTML = `
                <div class="bg-white rounded-2xl p-8 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">Ø³ÙØ§Ø±Ø´ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!</h3>
                        <p class="text-gray-600">Ú©Ø¯ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ: <span class="font-bold text-green-600">#${orderData.id.toString().substr(-6)}</span></p>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <h4 class="font-bold text-gray-800 mb-3">Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span>ØªØ§Ø±ÛŒØ®:</span>
                                <span>${orderData.date} - ${orderData.time}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Ù…Ø´ØªØ±ÛŒ:</span>
                                <span>${orderData.customer.firstName} ${orderData.customer.lastName}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>ØªÙ„ÙÙ†:</span>
                                <span>${orderData.customer.phone}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª:</span>
                                <span>${orderData.paymentMethod === 'online' ? 'Ù¾Ø±Ø¯Ø§Ø®Øª Ø¢Ù†Ù„Ø§ÛŒÙ†' : 'Ù¾Ø±Ø¯Ø§Ø®Øª Ø¯Ø± Ù…Ø­Ù„'}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <h4 class="font-bold text-gray-800 mb-3">Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´</h4>
                        <div class="space-y-2">
                            ${orderData.items.map(item => `
                                <div class="flex justify-between items-center text-sm">
                                    <span>${item.name} ${item.type === 'custom' ? `(${item.color}, ${item.size})` : ''}</span>
                                    <span>Ã—${item.quantity}</span>
                                    <span>${formatPrice(item.price * item.quantity)}</span>
                                </div>
                            `).join('')}
                        </div>
                        <div class="border-t border-gray-200 mt-3 pt-3">
                            <div class="flex justify-between text-sm mb-1">
                                <span>Ø¬Ù…Ø¹ Ú©Ù„:</span>
                                <span>${formatPrice(orderData.subtotal)}</span>
                            </div>
                            <div class="flex justify-between text-sm mb-2">
                                <span>Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„:</span>
                                <span>${formatPrice(orderData.shipping)}</span>
                            </div>
                            <div class="flex justify-between font-bold">
                                <span>Ù…Ø¬Ù…ÙˆØ¹ Ù†Ù‡Ø§ÛŒÛŒ:</span>
                                <span class="text-green-600">${formatPrice(orderData.total)}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 rounded-lg p-4 mb-6">
                        <h4 class="font-bold text-blue-800 mb-2">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø±Ø³Ø§Ù„</h4>
                        <p class="text-blue-700 text-sm mb-2">
                            <strong>Ø¢Ø¯Ø±Ø³:</strong> ${orderData.customer.address}, ${orderData.customer.city}
                        </p>
                        <p class="text-blue-700 text-sm mb-2">
                            <strong>Ú©Ø¯ Ù¾Ø³ØªÛŒ:</strong> ${orderData.customer.postalCode}
                        </p>
                        <p class="text-blue-700 text-sm">
                            <strong>Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„:</strong> 3-5 Ø±ÙˆØ² Ú©Ø§Ø±ÛŒ
                        </p>
                    </div>
                    
                    <div class="text-center space-y-3">
                        <button onclick="trackOrder('${orderData.id}')" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                            Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´
                        </button>
                        <button onclick="closeSuccessModal()" class="w-full border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors font-medium">
                            Ø¨Ø³ØªÙ†
                        </button>
                    </div>
                    
                    <div class="mt-4 text-center">
                        <p class="text-xs text-gray-500">Ù¾ÛŒØ§Ù…Ú© ØªØ£ÛŒÛŒØ¯ Ø³ÙØ§Ø±Ø´ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯</p>
                    </div>
                </div>
            `;
            
            document.body.appendChild(successModal);
        }
        
        function closeSuccessModal() {
            const successModal = document.getElementById('successModal');
            if (successModal) {
                document.body.removeChild(successModal);
            }
        }
        
        function trackOrder(orderId) {
            closeSuccessModal();
            showOrderTrackingModal(orderId);
        }
        
        function showOrderTrackingModal(orderId) {
            const order = orders.find(o => o.id == orderId);
            if (!order) return;
            
            const trackingModal = document.createElement('div');
            trackingModal.id = 'trackingModal';
            trackingModal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            trackingModal.innerHTML = `
                <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´</h3>
                        <button onclick="closeTrackingModal()" class="text-gray-500 hover:text-gray-700">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="text-center mb-6">
                        <p class="text-gray-600">Ú©Ø¯ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ: <span class="font-bold">#${order.id.toString().substr(-6)}</span></p>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex items-center">
                            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <div class="mr-4">
                                <p class="font-medium text-gray-800">Ø³ÙØ§Ø±Ø´ Ø«Ø¨Øª Ø´Ø¯</p>
                                <p class="text-sm text-gray-500">${order.date} - ${order.time}</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center">
                            <div class="w-8 h-8 ${order.status !== 'pending' ? 'bg-green-500' : 'bg-gray-300'} rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <div class="mr-4">
                                <p class="font-medium text-gray-800">ØªØ£ÛŒÛŒØ¯ Ø³ÙØ§Ø±Ø´</p>
                                <p class="text-sm text-gray-500">Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ£ÛŒÛŒØ¯</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center">
                            <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <div class="mr-4">
                                <p class="font-medium text-gray-800">Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ</p>
                                <p class="text-sm text-gray-500">Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center">
                            <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <div class="mr-4">
                                <p class="font-medium text-gray-800">Ø§Ø±Ø³Ø§Ù„</p>
                                <p class="text-sm text-gray-500">Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center">
                            <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <div class="mr-4">
                                <p class="font-medium text-gray-800">ØªØ­ÙˆÛŒÙ„</p>
                                <p class="text-sm text-gray-500">Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 bg-blue-50 rounded-lg p-4">
                        <p class="text-blue-800 text-sm">
                            <strong>ØªØ®Ù…ÛŒÙ† Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„:</strong> 3-5 Ø±ÙˆØ² Ú©Ø§Ø±ÛŒ
                        </p>
                    </div>
                    
                    <button onclick="closeTrackingModal()" class="w-full mt-6 bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors">
                        Ø¨Ø³ØªÙ†
                    </button>
                </div>
            `;
            
            document.body.appendChild(trackingModal);
        }
        
        function closeTrackingModal() {
            const trackingModal = document.getElementById('trackingModal');
            if (trackingModal) {
                document.body.removeChild(trackingModal);
            }
        }

        // Custom Design Functions
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('designPreview');
                    preview.innerHTML = `<img src="${e.target.result}" alt="Ø·Ø±Ø­ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù‡" class="w-full h-full object-cover rounded-lg">`;
                };
                reader.readAsDataURL(file);
            }
        }

        function selectColor(color) {
            selectedColor = color;
            document.querySelectorAll('[data-color]').forEach(btn => {
                btn.classList.remove('ring-2', 'ring-orange-500', 'border-orange-500');
            });
            document.querySelector(`[data-color="${color}"]`).classList.add('ring-2', 'ring-orange-500');
        }

        function selectSize(size) {
            selectedSize = size;
            document.querySelectorAll('[data-size]').forEach(btn => {
                btn.classList.remove('border-orange-500', 'bg-orange-50');
                btn.classList.add('border-gray-300');
            });
            const selectedBtn = document.querySelector(`[data-size="${size}"]`);
            selectedBtn.classList.remove('border-gray-300');
            selectedBtn.classList.add('border-orange-500', 'bg-orange-50');
        }

        function increaseQuantity() {
            customQuantity++;
            document.getElementById('customQuantity').textContent = customQuantity;
        }

        function decreaseQuantity() {
            if (customQuantity > 1) {
                customQuantity--;
                document.getElementById('customQuantity').textContent = customQuantity;
            }
        }

        // Admin Functions
        function showAdminLogin() {
            document.getElementById('adminLoginModal').classList.remove('hidden');
        }

        function closeAdminLogin() {
            document.getElementById('adminLoginModal').classList.add('hidden');
        }

        function handleAdminLogin(event) {
            event.preventDefault();
            const password = document.getElementById('adminPassword').value;
            
            if (password === 'admin123') {
                isAdminLoggedIn = true;
                closeAdminLogin();
                document.getElementById('adminPanel').classList.remove('hidden');
                loadAdminData();
            } else {
                showNotification('Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª!');
            }
        }

        function closeAdminPanel() {
            document.getElementById('adminPanel').classList.add('hidden');
            isAdminLoggedIn = false;
        }

        function showAdminSection(section) {
            document.querySelectorAll('.admin-section').forEach(s => s.classList.add('hidden'));
            document.getElementById('admin' + section.charAt(0).toUpperCase() + section.slice(1)).classList.remove('hidden');
            
            document.querySelectorAll('.admin-nav-btn').forEach(btn => {
                btn.classList.remove('bg-orange-600');
                btn.classList.add('bg-blue-600', 'hover:bg-blue-700');
            });
            event.target.classList.remove('bg-blue-600', 'hover:bg-blue-700');
            event.target.classList.add('bg-orange-600');
        }

        function loadAdminData() {
            loadAdminProducts();
            loadAdminOrders();
            loadEmailLog();
        }

        function loadAdminProducts() {
            const container = document.getElementById('adminProductsList');
            container.innerHTML = products.map(product => `
                <div class="bg-gray-700 rounded-lg p-4 flex items-center justify-between">
                    <div class="flex items-center space-x-4 space-x-reverse">
                        <img src="${product.image}" alt="${product.name}" class="w-16 h-16 object-cover rounded-lg">
                        <div>
                            <h4 class="text-white font-bold">${product.name}</h4>
                            <p class="text-gray-300">${formatPrice(product.price)}</p>
                        </div>
                    </div>
                    <button onclick="deleteProduct(${product.id})" class="text-red-400 hover:text-red-300">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                        </svg>
                    </button>
                </div>
            `).join('');
        }

        function loadAdminOrders() {
            const container = document.getElementById('adminOrdersList');
            if (orders.length === 0) {
                container.innerHTML = '<p class="text-gray-300 text-center py-8">Ù‡ÛŒÚ† Ø³ÙØ§Ø±Ø´ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</p>';
                return;
            }
            
            container.innerHTML = orders.map(order => `
                <div class="bg-gray-700 rounded-lg p-4">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h4 class="text-white font-bold">Ø³ÙØ§Ø±Ø´ #${order.id.toString().substr(-6)}</h4>
                            <p class="text-gray-300">${order.customer.firstName} ${order.customer.lastName}</p>
                            <p class="text-gray-300">${order.date}</p>
                        </div>
                        <div class="text-left">
                            <span class="status-${order.status} text-white px-3 py-1 rounded-full text-sm">
                                ${order.status === 'pending' ? 'Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±' : order.status === 'processing' ? 'Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´' : order.status === 'completed' ? 'ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡' : 'Ù„ØºÙˆ Ø´Ø¯Ù‡'}
                            </span>
                            <p class="text-white font-bold mt-2">${formatPrice(order.total)}</p>
                        </div>
                    </div>
                    <div class="border-t border-gray-600 pt-4">
                        <p class="text-gray-300 mb-2">Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§:</p>
                        ${order.items.map(item => `
                            <p class="text-gray-400 text-sm">â€¢ ${item.name} Ã—${item.quantity}</p>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function addProduct(event) {
            event.preventDefault();
            
            const name = document.getElementById('productName').value;
            const price = parseInt(document.getElementById('productPrice').value);
            const description = document.getElementById('productDescription').value;
            const imageFile = document.getElementById('productImage').files[0];
            
            let imageUrl = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iNTAiIGZpbGw9IiNmNTllMGIiLz4KPC9zdmc+';
            
            if (imageFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    imageUrl = e.target.result;
                    saveProduct();
                };
                reader.readAsDataURL(imageFile);
            } else {
                saveProduct();
            }
            
            function saveProduct() {
                const newProduct = {
                    id: generateId(),
                    name,
                    price,
                    description,
                    image: imageUrl
                };
                
                products.push(newProduct);
                loadProducts();
                loadAdminProducts();
                document.getElementById('addProductForm').reset();
                showNotification('Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!');
            }
        }

        function deleteProduct(productId) {
            products = products.filter(p => p.id !== productId);
            loadProducts();
            loadAdminProducts();
            showNotification('Ù…Ø­ØµÙˆÙ„ Ø­Ø°Ù Ø´Ø¯!');
        }

        function saveSettings(event) {
            event.preventDefault();
            showNotification('ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯!');
        }
        
        function sendManualEmail(event) {
            event.preventDefault();
            
            const to = document.getElementById('manualEmailTo').value;
            const subject = document.getElementById('manualEmailSubject').value;
            const body = document.getElementById('manualEmailBody').value;
            
            // Send the email
            sendEmail(to, subject, body);
            
            // Clear the form
            document.getElementById('manualEmailForm').reset();
            
            // Refresh email log
            setTimeout(() => {
                loadEmailLog();
            }, 500);
            
            showNotification('Ø§ÛŒÙ…ÛŒÙ„ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!');
        }
        
        function loadEmailLog() {
            const emailLog = JSON.parse(localStorage.getItem('emailLog') || '[]');
            const container = document.getElementById('emailLogContainer');
            
            if (emailLog.length === 0) {
                container.innerHTML = '<p class="text-gray-300 text-center py-8">Ù‡ÛŒÚ† Ø§ÛŒÙ…ÛŒÙ„ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</p>';
                return;
            }
            
            // Sort by timestamp (newest first)
            emailLog.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            container.innerHTML = emailLog.map(email => {
                const date = new Date(email.timestamp);
                const formattedDate = date.toLocaleDateString('fa-IR');
                const formattedTime = date.toLocaleTimeString('fa-IR');
                
                return `
                    <div class="bg-gray-700 rounded-lg p-4">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <h4 class="text-white font-bold">${email.subject}</h4>
                                <p class="text-gray-300 text-sm">Ø¨Ù‡: ${email.to}</p>
                                <p class="text-gray-400 text-xs">${formattedDate} - ${formattedTime}</p>
                            </div>
                            <div class="flex space-x-2 space-x-reverse">
                                <span class="bg-green-500 text-white px-2 py-1 rounded text-xs">Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡</span>
                                <button onclick="viewEmailContent('${email.id}')" class="text-blue-400 hover:text-blue-300 text-sm">
                                    Ù…Ø´Ø§Ù‡Ø¯Ù‡
                                </button>
                                <button onclick="resendEmail('${email.id}')" class="text-orange-400 hover:text-orange-300 text-sm">
                                    Ø§Ø±Ø³Ø§Ù„ Ù…Ø¬Ø¯Ø¯
                                </button>
                            </div>
                        </div>
                        <div class="border-t border-gray-600 pt-3">
                            <p class="text-gray-300 text-sm line-clamp-2">${email.body.substring(0, 100)}${email.body.length > 100 ? '...' : ''}</p>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function refreshEmailLog() {
            loadEmailLog();
            showNotification('ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø§ÛŒÙ…ÛŒÙ„â€ŒÙ‡Ø§ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯');
        }
        
        function clearEmailLog() {
            if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ ØªÙ…Ø§Ù… ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø§ÛŒÙ…ÛŒÙ„â€ŒÙ‡Ø§ Ø±Ø§ Ù¾Ø§Ú© Ú©Ù†ÛŒØ¯ØŸ')) {
                localStorage.removeItem('emailLog');
                loadEmailLog();
                showNotification('ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø§ÛŒÙ…ÛŒÙ„â€ŒÙ‡Ø§ Ù¾Ø§Ú© Ø´Ø¯');
            }
        }
        
        function viewEmailContent(emailId) {
            const emailLog = JSON.parse(localStorage.getItem('emailLog') || '[]');
            const email = emailLog.find(e => e.id == emailId);
            
            if (!email) return;
            
            const emailModal = document.createElement('div');
            emailModal.id = 'viewEmailModal';
            emailModal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            emailModal.innerHTML = `
                <div class="bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§ÛŒÙ…ÛŒÙ„</h3>
                        <button onclick="closeViewEmailModal()" class="text-gray-500 hover:text-gray-700">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ú¯ÛŒØ±Ù†Ø¯Ù‡:</label>
                            <input type="text" value="${email.to}" readonly class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ù…ÙˆØ¶ÙˆØ¹:</label>
                            <input type="text" value="${email.subject}" readonly class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ØªØ§Ø±ÛŒØ® Ø§Ø±Ø³Ø§Ù„:</label>
                            <input type="text" value="${new Date(email.timestamp).toLocaleDateString('fa-IR')} - ${new Date(email.timestamp).toLocaleTimeString('fa-IR')}" readonly class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ù…ØªÙ† Ø§ÛŒÙ…ÛŒÙ„:</label>
                            <textarea readonly class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700 h-64 text-sm" style="font-family: 'Vazirmatn', monospace;">${email.body}</textarea>
                        </div>
                    </div>
                    
                    <div class="flex space-x-4 space-x-reverse mt-6">
                        <button onclick="copyEmailText('${email.body}')" class="flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                            Ú©Ù¾ÛŒ Ù…ØªÙ†
                        </button>
                        <button onclick="resendEmail('${email.id}')" class="flex-1 bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition-colors font-medium">
                            Ø§Ø±Ø³Ø§Ù„ Ù…Ø¬Ø¯Ø¯
                        </button>
                        <button onclick="closeViewEmailModal()" class="flex-1 bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors font-medium">
                            Ø¨Ø³ØªÙ†
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(emailModal);
        }
        
        function closeViewEmailModal() {
            const modal = document.getElementById('viewEmailModal');
            if (modal) {
                document.body.removeChild(modal);
            }
        }
        
        function resendEmail(emailId) {
            const emailLog = JSON.parse(localStorage.getItem('emailLog') || '[]');
            const email = emailLog.find(e => e.id == emailId);
            
            if (!email) return;
            
            // Send the email again
            sendEmail(email.to, email.subject, email.body);
            
            showNotification('Ø§ÛŒÙ…ÛŒÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!');
            
            // Close modal if open
            closeViewEmailModal();
        }
        
        function copyEmailText(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification('Ù…ØªÙ† Ø§ÛŒÙ…ÛŒÙ„ Ú©Ù¾ÛŒ Ø´Ø¯!');
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification('Ù…ØªÙ† Ø§ÛŒÙ…ÛŒÙ„ Ú©Ù¾ÛŒ Ø´Ø¯!');
            });
        }

        // User Authentication Functions
        function showAuthModal() {
            document.getElementById('authModal').classList.remove('hidden');
            showLoginForm();
        }

        function closeAuthModal() {
            document.getElementById('authModal').classList.add('hidden');
        }

        function showLoginForm() {
            document.getElementById('loginForm').classList.remove('hidden');
            document.getElementById('registerForm').classList.add('hidden');
            document.getElementById('authTitle').textContent = 'ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ';
        }

        function showRegisterForm() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerForm').classList.remove('hidden');
            document.getElementById('authTitle').textContent = 'Ø«Ø¨Øª Ù†Ø§Ù…';
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Check if user exists
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                updateAuthButton();
                closeAuthModal();
                showNotification(`Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ${user.firstName}!`);
                
                // Save session
                localStorage.setItem('currentUser', JSON.stringify(user));
            } else {
                showNotification('Ø§ÛŒÙ…ÛŒÙ„ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª!');
            }
        }

        function handleRegister(event) {
            event.preventDefault();
            
            const firstName = document.getElementById('registerFirstName').value;
            const lastName = document.getElementById('registerLastName').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            // Validate passwords match
            if (password !== confirmPassword) {
                showNotification('Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ùˆ ØªÚ©Ø±Ø§Ø± Ø¢Ù† ÛŒÚ©Ø³Ø§Ù† Ù†ÛŒØ³ØªÙ†Ø¯!');
                return;
            }
            
            // Check if email already exists
            if (users.find(u => u.email === email)) {
                showNotification('Ø§ÛŒÙ† Ø§ÛŒÙ…ÛŒÙ„ Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øª Ø´Ø¯Ù‡ Ø§Ø³Øª!');
                return;
            }
            
            // Create new user
            const newUser = {
                id: generateId(),
                firstName,
                lastName,
                email,
                phone,
                password,
                registrationDate: new Date().toLocaleDateString('fa-IR')
            };
            
            users.push(newUser);
            currentUser = newUser;
            
            // Save to localStorage
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            updateAuthButton();
            closeAuthModal();
            showNotification(`Ø«Ø¨Øª Ù†Ø§Ù… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯! Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ${firstName}!`);
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateAuthButton();
            showNotification('Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø®Ø§Ø±Ø¬ Ø´Ø¯ÛŒØ¯!');
        }

        function updateAuthButton() {
            const authButton = document.getElementById('authButton');
            const mobileAuthButton = document.getElementById('mobileAuthButton');
            
            if (currentUser) {
                // Desktop auth button
                authButton.innerHTML = `
                    <div class="relative">
                        <button onclick="toggleUserMenu()" class="flex items-center space-x-2 space-x-reverse">
                            <div class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center">
                                <span class="text-orange-600 font-bold text-sm">${currentUser.firstName.charAt(0)}</span>
                            </div>
                            <span class="hidden lg:inline">${currentUser.firstName}</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="userMenu" class="absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-lg border hidden z-50">
                            <div class="py-2">
                                <div class="px-4 py-2 border-b border-gray-200">
                                    <p class="text-sm font-medium text-gray-800">${currentUser.firstName} ${currentUser.lastName}</p>
                                    <p class="text-xs text-gray-500">${currentUser.email}</p>
                                </div>
                                <button onclick="showUserProfile()" class="w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±ÛŒ
                                </button>
                                <button onclick="showUserOrders()" class="w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†
                                </button>
                                <button onclick="logout()" class="w-full text-right px-4 py-2 text-sm text-red-600 hover:bg-red-50">
                                    Ø®Ø±ÙˆØ¬
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                authButton.onclick = null;
                
                // Mobile auth button
                mobileAuthButton.innerHTML = `
                    <div class="flex items-center justify-between w-full">
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <div class="w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center">
                                <span class="text-orange-600 font-bold">${currentUser.firstName.charAt(0)}</span>
                            </div>
                            <div>
                                <p class="font-medium text-white">${currentUser.firstName} ${currentUser.lastName}</p>
                                <p class="text-xs text-orange-200">${currentUser.email}</p>
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                `;
                mobileAuthButton.onclick = function() {
                    showUserProfile();
                    closeMobileNav();
                };
            } else {
                authButton.innerHTML = 'ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øª Ù†Ø§Ù…';
                authButton.onclick = showAuthModal;
                
                mobileAuthButton.innerHTML = 'ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øª Ù†Ø§Ù…';
                mobileAuthButton.onclick = function() {
                    showAuthModal();
                    closeMobileNav();
                };
            }
        }

        function toggleUserMenu() {
            const userMenu = document.getElementById('userMenu');
            userMenu.classList.toggle('hidden');
        }

        function checkUserSession() {
            const savedUser = localStorage.getItem('currentUser');
            const savedUsers = localStorage.getItem('users');
            
            if (savedUsers) {
                users = JSON.parse(savedUsers);
            }
            
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateAuthButton();
            }
        }

        function showUserProfile() {
            toggleUserMenu();
            // Create user profile modal
            const profileModal = document.createElement('div');
            profileModal.id = 'profileModal';
            profileModal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            profileModal.innerHTML = `
                <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3>
                        <button onclick="closeProfileModal()" class="text-gray-500 hover:text-gray-700">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="text-center mb-6">
                            <div class="w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-orange-600 font-bold text-2xl">${currentUser.firstName.charAt(0)}</span>
                            </div>
                            <h4 class="text-xl font-bold text-gray-800">${currentUser.firstName} ${currentUser.lastName}</h4>
                            <p class="text-gray-600">${currentUser.email}</p>
                        </div>
                        
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="space-y-3">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†:</span>
                                    <span class="font-medium">${currentUser.phone}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">ØªØ§Ø±ÛŒØ® Ø¹Ø¶ÙˆÛŒØª:</span>
                                    <span class="font-medium">${currentUser.registrationDate}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">ØªØ¹Ø¯Ø§Ø¯ Ø³ÙØ§Ø±Ø´Ø§Øª:</span>
                                    <span class="font-medium">${orders.filter(o => o.customer.email === currentUser.email).length}</span>
                                </div>
                            </div>
                        </div>
                        
                        <button onclick="closeProfileModal()" class="w-full bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors">
                            Ø¨Ø³ØªÙ†
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(profileModal);
        }

        function closeProfileModal() {
            const profileModal = document.getElementById('profileModal');
            if (profileModal) {
                document.body.removeChild(profileModal);
            }
        }

        function showUserOrders() {
            toggleUserMenu();
            const userOrders = orders.filter(o => o.customer.email === currentUser.email);
            
            const ordersModal = document.createElement('div');
            ordersModal.id = 'userOrdersModal';
            ordersModal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            ordersModal.innerHTML = `
                <div class="bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†</h3>
                        <button onclick="closeUserOrdersModal()" class="text-gray-500 hover:text-gray-700">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="space-y-4">
                        ${userOrders.length === 0 ? 
                            '<p class="text-center text-gray-500 py-8">Ù‡Ù†ÙˆØ² Ø³ÙØ§Ø±Ø´ÛŒ Ø«Ø¨Øª Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯</p>' :
                            userOrders.map(order => `
                                <div class="border border-gray-200 rounded-lg p-4">
                                    <div class="flex justify-between items-start mb-3">
                                        <div>
                                            <h4 class="font-bold text-gray-800">Ø³ÙØ§Ø±Ø´ #${order.id.toString().substr(-6)}</h4>
                                            <p class="text-sm text-gray-600">${order.date} - ${order.time}</p>
                                        </div>
                                        <div class="text-left">
                                            <span class="status-${order.status} text-white px-3 py-1 rounded-full text-sm">
                                                ${order.status === 'pending' ? 'Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±' : order.status === 'processing' ? 'Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´' : order.status === 'completed' ? 'ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡' : 'Ù„ØºÙˆ Ø´Ø¯Ù‡'}
                                            </span>
                                            <p class="font-bold text-orange-600 mt-2">${formatPrice(order.total)}</p>
                                        </div>
                                    </div>
                                    <div class="border-t border-gray-200 pt-3">
                                        <p class="text-sm text-gray-600 mb-2">Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§:</p>
                                        ${order.items.map(item => `
                                            <p class="text-sm text-gray-800">â€¢ ${item.name} Ã—${item.quantity}</p>
                                        `).join('')}
                                    </div>
                                    <div class="mt-3">
                                        <button onclick="trackOrder('${order.id}')" class="text-blue-600 hover:text-blue-700 text-sm font-medium">
                                            Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´
                                        </button>
                                    </div>
                                </div>
                            `).join('')
                        }
                    </div>
                    
                    <button onclick="closeUserOrdersModal()" class="w-full mt-6 bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors">
                        Ø¨Ø³ØªÙ†
                    </button>
                </div>
            `;
            
            document.body.appendChild(ordersModal);
        }

        function closeUserOrdersModal() {
            const ordersModal = document.getElementById('userOrdersModal');
            if (ordersModal) {
                document.body.removeChild(ordersModal);
            }
        }

        // Close user menu when clicking outside
        document.addEventListener('click', function(event) {
            const userMenu = document.getElementById('userMenu');
            if (userMenu && !userMenu.contains(event.target) && !event.target.closest('#authButton')) {
                userMenu.classList.add('hidden');
            }
        });

        // Email Functions
        function sendOrderConfirmationEmail(orderData) {
            // Create email content
            const emailSubject = `ØªØ£ÛŒÛŒØ¯ Ø³ÙØ§Ø±Ø´ #${orderData.id.toString().substr(-6)} - Ù†Ù‚Ø´ÛŒÙ†Ù‡`;
            const emailBody = createEmailTemplate(orderData);
            
            // Actually send the email
            sendEmail(orderData.customer.email, emailSubject, emailBody);
            
            // Show email modal to user
            showEmailModal(emailSubject, emailBody, orderData.customer.email);
            
            // Also send notification to admin
            sendAdminNotification(orderData);
        }
        
        function sendEmail(to, subject, body) {
            // Create mailto link with email content
            const mailtoLink = `mailto:${to}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            
            // Try to open default email client
            try {
                window.open(mailtoLink, '_blank');
                showNotification('Ø§ÛŒÙ…ÛŒÙ„ Ø¯Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§ÛŒÙ…ÛŒÙ„ Ø´Ù…Ø§ Ø¨Ø§Ø² Ø´Ø¯');
            } catch (error) {
                console.log('Could not open email client');
            }
            
            // Also try to use Web Share API if available
            if (navigator.share) {
                navigator.share({
                    title: subject,
                    text: body,
                    url: `mailto:${to}`
                }).catch(() => {
                    // Fallback handled above
                });
            }
            
            // Store email in browser for admin review
            const emailLog = JSON.parse(localStorage.getItem('emailLog') || '[]');
            emailLog.push({
                id: generateId(),
                to: to,
                subject: subject,
                body: body,
                timestamp: new Date().toISOString(),
                status: 'sent'
            });
            localStorage.setItem('emailLog', JSON.stringify(emailLog));
        }
        
        function createEmailTemplate(orderData) {
            return `
Ø³Ù„Ø§Ù… ${orderData.customer.firstName} ${orderData.customer.lastName} Ø¹Ø²ÛŒØ²ØŒ

Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!

ğŸ”¸ Ú©Ø¯ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ: #${orderData.id.toString().substr(-6)}
ğŸ”¸ ØªØ§Ø±ÛŒØ® Ø³ÙØ§Ø±Ø´: ${orderData.date} - ${orderData.time}
ğŸ”¸ Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª: ${orderData.paymentMethod === 'online' ? 'Ù¾Ø±Ø¯Ø§Ø®Øª Ø¢Ù†Ù„Ø§ÛŒÙ†' : 'Ù¾Ø±Ø¯Ø§Ø®Øª Ø¯Ø± Ù…Ø­Ù„'}

ğŸ“¦ Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´:
${orderData.items.map(item => `â€¢ ${item.name} ${item.type === 'custom' ? `(${item.color}, ${item.size})` : ''} - ØªØ¹Ø¯Ø§Ø¯: ${item.quantity} - Ù‚ÛŒÙ…Øª: ${formatPrice(item.price * item.quantity)}`).join('\n')}

ğŸ’° Ø®Ù„Ø§ØµÙ‡ Ù…Ø§Ù„ÛŒ:
â€¢ Ø¬Ù…Ø¹ Ú©Ù„: ${formatPrice(orderData.subtotal)}
â€¢ Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„: ${formatPrice(orderData.shipping)}
â€¢ Ù…Ø¬Ù…ÙˆØ¹ Ù†Ù‡Ø§ÛŒÛŒ: ${formatPrice(orderData.total)}

ğŸ“ Ø¢Ø¯Ø±Ø³ Ø§Ø±Ø³Ø§Ù„:
${orderData.customer.address}
${orderData.customer.city} - ${orderData.customer.postalCode}

â° Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„: 3-5 Ø±ÙˆØ² Ú©Ø§Ø±ÛŒ

Ø¨Ø±Ø§ÛŒ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´ Ø®ÙˆØ¯ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ú©Ø¯ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø¨Ù‡ Ø³Ø§ÛŒØª Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.

Ø¨Ø§ ØªØ´Ú©Ø± Ø§Ø² Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù…Ø§
ØªÛŒÙ… Ù†Ù‚Ø´ÛŒÙ†Ù‡
ğŸ“ 025-32701
ğŸ“§ naghshinekari@gmail.com
            `.trim();
        }
        
        function showEmailModal(subject, body, recipientEmail) {
            const emailModal = document.createElement('div');
            emailModal.id = 'emailModal';
            emailModal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            emailModal.innerHTML = `
                <div class="bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ø§ÛŒÙ…ÛŒÙ„ ØªØ£ÛŒÛŒØ¯ Ø³ÙØ§Ø±Ø´</h3>
                        <button onclick="closeEmailModal()" class="text-gray-500 hover:text-gray-700">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
                        <div class="flex items-center">
                            <svg class="w-5 h-5 text-green-600 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <p class="text-green-800 font-medium">Ø§ÛŒÙ…ÛŒÙ„ ØªØ£ÛŒÛŒØ¯ Ø³ÙØ§Ø±Ø´ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!</p>
                        </div>
                        <p class="text-green-700 text-sm mt-1">Ø¨Ù‡ Ø¢Ø¯Ø±Ø³: ${recipientEmail}</p>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ù…ÙˆØ¶ÙˆØ¹ Ø§ÛŒÙ…ÛŒÙ„:</label>
                            <input type="text" value="${subject}" readonly class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ù…ØªÙ† Ø§ÛŒÙ…ÛŒÙ„:</label>
                            <textarea readonly class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700 h-64 text-sm font-mono" style="font-family: 'Vazirmatn', monospace;">${body}</textarea>
                        </div>
                    </div>
                    
                    <div class="flex space-x-4 space-x-reverse mt-6">
                        <button onclick="copyEmailContent()" class="flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                            Ú©Ù¾ÛŒ Ù…ØªÙ† Ø§ÛŒÙ…ÛŒÙ„
                        </button>
                        <button onclick="closeEmailModal()" class="flex-1 bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors font-medium">
                            Ø¨Ø³ØªÙ†
                        </button>
                    </div>
                    
                    <div class="mt-4 text-center">
                        <p class="text-xs text-gray-500">
                            ğŸ’¡ Ø§ÛŒÙ† ÛŒÚ© Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„ Ø§Ø³Øª. Ø¯Ø± Ø­Ø§Ù„Øª ÙˆØ§Ù‚Ø¹ÛŒØŒ Ø§ÛŒÙ…ÛŒÙ„ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
                        </p>
                    </div>
                </div>
            `;
            
            document.body.appendChild(emailModal);
            
            // Store email content for copying
            window.currentEmailContent = body;
        }
        
        function sendAdminNotification(orderData) {
            // Create admin notification
            const adminEmailContent = `
ğŸ”” Ø³ÙØ§Ø±Ø´ Ø¬Ø¯ÛŒØ¯ Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯!

Ú©Ø¯ Ø³ÙØ§Ø±Ø´: #${orderData.id.toString().substr(-6)}
Ù…Ø´ØªØ±ÛŒ: ${orderData.customer.firstName} ${orderData.customer.lastName}
ØªÙ„ÙÙ†: ${orderData.customer.phone}
Ø§ÛŒÙ…ÛŒÙ„: ${orderData.customer.email}
Ù…Ø¨Ù„Øº: ${formatPrice(orderData.total)}
Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª: ${orderData.paymentMethod === 'online' ? 'Ù¾Ø±Ø¯Ø§Ø®Øª Ø¢Ù†Ù„Ø§ÛŒÙ†' : 'Ù¾Ø±Ø¯Ø§Ø®Øª Ø¯Ø± Ù…Ø­Ù„'}

Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§:
${orderData.items.map(item => `â€¢ ${item.name} Ã—${item.quantity}`).join('\n')}

Ø¢Ø¯Ø±Ø³ Ø§Ø±Ø³Ø§Ù„:
${orderData.customer.address}, ${orderData.customer.city}

Ù„Ø·ÙØ§Ù‹ Ø³ÙØ§Ø±Ø´ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ùˆ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ú©Ù†ÛŒØ¯.
            `.trim();
            
            // Show admin notification (in real app, this would be sent via email service)
            setTimeout(() => {
                showNotification('Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ† Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯');
            }, 1000);
        }
        
        function closeEmailModal() {
            const emailModal = document.getElementById('emailModal');
            if (emailModal) {
                document.body.removeChild(emailModal);
            }
        }
        
        function copyEmailContent() {
            if (window.currentEmailContent) {
                navigator.clipboard.writeText(window.currentEmailContent).then(() => {
                    showNotification('Ù…ØªÙ† Ø§ÛŒÙ…ÛŒÙ„ Ú©Ù¾ÛŒ Ø´Ø¯!');
                }).catch(() => {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = window.currentEmailContent;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    showNotification('Ù…ØªÙ† Ø§ÛŒÙ…ÛŒÙ„ Ú©Ù¾ÛŒ Ø´Ø¯!');
                });
            }
        }

        // Utility Functions
        function scrollToProducts() {
            document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9724790d06acd3b0',t:'MTc1NTcxOTk4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
